import{Add_default as e}from"./Add-DkUoH1Sq.js";import{Array as t,Button_default as n,DataTable_default as r,Input_default as i,NIcon as a,createTextVNode as o,createVNode as s,defineComponent as c,isPcElementAttribute as l,nextTick as u,ref as d}from"./index-DG3a2kbB.js";const f=c({props:{value:String},emits:[`update:value`],setup(e,t){let n=d(!1),r=d(null),a=d(e.value);function o(){n.value=!0,u(()=>{var e;(e=r.value)?.focus()})}function c(){t.emit(`update:value`,a.value),n.value=!1}return()=>s(`div`,{style:`min-height: 22px`,onClick:o},[n.value?s(i,{ref:r,value:a.value,onUpdateValue:e=>a.value=e,onChange:c,onBlur:c},null):e.value])}});var p=c({name:`WidgetOptions`,props:{graph:{required:!0,type:Object},plugin:{required:!0,type:Object}},setup(i,c){let u=d([]);l(i.plugin.attr,i.graph.selected[0])&&i.plugin.attr===`options`&&(u.value=i.graph.selected[0].attrs[i.plugin.attr].map(e=>({label:e.label,value:e.value??e.label}))),c.expose({update(){return u.value}});function p(){u.value.push({label:``,value:``})}function m(e){t.remove(u.value,u.value.indexOf(e))}let h=e=>u.value.indexOf(e);return()=>s(`section`,{class:`widget-options`},[s(`header`,null,[s(n,{type:`primary`,size:`small`,class:`text-sm`,onClick:p},{default:()=>[o(`Add Option`)],icon:()=>s(a,null,{default:()=>[s(e,null,null)]})}),s(`p`,{class:`text-gray-500 font-bold`},[o(`Please add at least one option.`)])]),s(r,{"max-height":`300`,class:`!w-min`,striped:!0,data:u.value,columns:[{title:`Label`,key:`label`,width:200,render:e=>{let t=h(e);return s(f,{value:e.label,"onUpdate:value":e=>u.value[t].label=e},null)}},{title:`Value`,key:`value`,width:200,render:e=>{let t=h(e);return s(f,{value:e.value,"onUpdate:value":e=>u.value[t].value=e},null)}},{title:`Action`,key:`actions`,width:100,render:e=>s(n,{type:`error`,strong:!0,size:`small`,onClick:()=>m(e)},{default:()=>[o(`Delete`)]})}]},null)])}});export{p as default};